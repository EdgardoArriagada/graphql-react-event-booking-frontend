(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){},5448:function(e,t,a){e.exports=a(5636)},5474:function(e,t,a){},5600:function(e,t,a){},5622:function(e,t,a){},5628:function(e,t,a){},5633:function(e,t,a){},5634:function(e,t,a){},5635:function(e,t,a){},5636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=(a(126),a(56)),l=a(47),s=a(21),u=a.n(s),m=a(36),E=a(17),d=a(29),p=a.n(d),f=a(54),b=a.n(f),h=a(28),O=a.n(h),v=(a(5474),{isSideDrawOpen:!1}),g=function(e,t){switch(t.type){case"UI_TOGGLE_SIDE_NAV":return{isSideDrawOpen:!e.isSideDrawOpen};default:return e||v}},_={token:null,userId:null,tokenExpiration:null},N=function(e,t){switch(t.type){case"AUTH_LOG_IN":return{token:t.token,userId:t.userId,tokenExpiration:t.tokenExpiration};case"AUTH_LOG_OUT":return _;default:return e||_}},S=a(43),y={events:[],status:"PRISTINE"},I=function(e,t){switch(t.type){case"FETCH_EVENTS_PENDING":return{events:Object(S.a)(e.events),status:"PENDING"};case"FETCH_EVENTS_FULFILLED":return{events:Object(S.a)(t.events),status:"FULFILLED"};case"FETCH_EVENTS_REJECTED":return{events:Object(S.a)(e.events),status:"REJECTED"};default:return e||y}},T={bookings:[],status:"PRISTINE"},C=function(e,t){switch(t.type){case"FETCH_BOOKINGS_PENDING":case"CANCEL_BOOKINGS_PENDING":return{bookings:Object(S.a)(e.bookings),status:"PENDING"};case"FETCH_BOOKINGS_FULFILLED":return{bookings:Object(S.a)(t.bookings),status:"FULFILLED"};case"CANCEL_BOOKINGS_FULFILLED":return{bookings:e.bookings.filter(function(e){return t.bookingId!==e._id}),status:"FULFILLED"};case"FETCH_BOOKINGS_REJECTED":case"CANCEL_BOOKINGS_REJECTED":return{bookings:Object(S.a)(e.bookings),status:"REJECTED"};default:return e||T}},j=Object(n.createContext)({}),k=function(){return Object(n.useContext)(j)},w=a(24),D={primaryButton:{margin:"0.25rem 0.1rem"},modalCentered:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},card:{width:"30rem",margin:"0.5rem auto",maxWidth:"80%",display:"flex",flexDirection:"column",alignItems:"center"}},x=Object(w.createMuiTheme)({palette:{primary:{main:"#800080"}},typography:{useNextVariants:!0}}),L=a(25),R={production:{BACKEND_URL:"https://easy-event-0.herokuapp.com"},development:{BACKEND_URL:"http://localhost:3000"}},U=Object(L.a)({},R["production"],{getGraphqlUrl:function(){return this.BACKEND_URL+"/graphql"}}),G=a(35),F=a(8),P=Object(w.withStyles)(function(e){return{close:{padding:e.spacing.unit/2}}})(function(e){var t=e.classes,a=Object(G.a)(e,["classes"]),c=Object(n.useState)(!0),o=Object(E.a)(c,2),i=o[0],l=o[1],s=a.message,u=a.duration,m=a.centered;function d(){l(!1)}return Object(n.useEffect)(function(){null!==u&&void 0!==u&&setTimeout(function(){l(!1)},u)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.k,{anchorOrigin:{vertical:"bottom",horizontal:m?"center":"left"},open:i,autoHideDuration:6e3,onClose:d,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},s),action:[r.a.createElement(F.a,{color:"secondary","aria-label":"Close",onClick:d,className:t.close,key:"close"},"DISMISS")]}))}),B=function(){var e=!0,t=k().AuthDispatch,a=Object(n.useState)(!0),c=Object(E.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)("PRISTINE"),s=Object(E.a)(l,2),d=s[0],f=s[1],h=Object(n.useState)(0),v=Object(E.a)(h,2),g=v[0],_=v[1],N=Object(n.useRef)({}),S=Object(n.useRef)({}),y=function(){var a=Object(m.a)(u.a.mark(function a(n){var r,c,i,l;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!e){a.next=4;break}return a.next=4,f("PRISTINE");case 4:if(r=N.current.value.trim(),c=S.current.value.trim(),r&&c){a.next=11;break}if(!e){a.next=10;break}return a.next=10,f("ATTEMPT_WITH_EMPTY_fORM");case 10:return a.abrupt("return");case 11:e&&_(10),i={query:'\n            mutation {\n                createUser(userInput: {email:"'.concat(r,'", password:"').concat(c,'"}) {\n                  _id\n                  email\n                }\n              }\n            ')},l={query:'\n            query {\n                login(email:"'.concat(r,'", password:"').concat(c,'") {\n                  userId\n                  token\n                  tokenExpiration\n                }\n              }\n            ')},O()({url:U.getGraphqlUrl(),method:"POST",data:o?l:i,headers:{"Content-Type":"application/json"}}).then(function(t){return 200!==t.status&&201!==t.status&&e?f("ERROR"):t.data?t.data.data:void 0}).then(function(a){switch(_(100),o){case!0:if(!a.login&&e)return f("LOGIN_WRONG_CREDENTIALS");if(e){var n=a.login,r=n.token,c=n.userId,i=n.tokenExpiration;return void t({type:"AUTH_LOG_IN",token:r,userId:c,tokenExpiration:i})}case!1:if(!a.createUser&&e)return f("SIGNUP_USER_EXISTS");if(e)return f("SIGNUP_SUCCESS")}}).catch(function(t){if(e)return f("ERROR")}).finally(function(){setTimeout(function(){e&&_(0)},300)});case 15:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return Object(n.useEffect)(function(){return function(){e=!1}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"determinate",value:g,style:{opacity:g?1:0}}),r.a.createElement("form",{className:"auth-page",onSubmit:y},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"email"},"E-mail"),r.a.createElement("input",{type:"email",id:"email",ref:N})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",ref:S})),r.a.createElement(p.a,{disabled:0<g&&g<100,variant:"contained",color:"primary",type:"submit",style:D.primaryButton},o?"Login":"Signup"),r.a.createElement(p.a,{variant:"text",color:"primary",type:"button",style:D.primaryButton,onClick:function(e){return i(!o)}},"Switch to ",o?"Signup":"Login")),function(){switch(d){case"LOGIN_WRONG_CREDENTIALS":return r.a.createElement(P,{message:"Wrong credentials",centered:!0});case"SIGNUP_USER_EXISTS":return r.a.createElement(P,{message:"User already exists",centered:!0});case"SIGNUP_SUCCESS":return r.a.createElement(P,{message:"User Creation have been SUCCESFULL",centered:!0});case"ERROR":return r.a.createElement(P,{message:"Error!: Check connection or call administrator",centered:!0});case"ATTEMPT_WITH_EMPTY_fORM":return r.a.createElement(P,{message:"Please provide both Email and Password",centered:!0});default:return r.a.createElement("div",null)}}())},A=Object(w.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"80%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],outline:"none"}}})(function(e){var t=e.classes,a=Object(G.a)(e,["classes"]);return r.a.createElement("div",{className:t.paper,style:D.modalCentered},a.children)}),H=a(46),M=a(70),q=a(123),K=a(5638),Y=a(5640),J=a(172),V=a(171),W=a(173),z=a(5639),X=a(9),Q=a.n(X),Z=(a(5600),Object(w.withStyles)(function(e){return{header:{backgroundColor:e.palette.primary.main,color:"white",padding:"0.3rem 1.5rem"},content:{margin:"1.5rem"},actions:{}}})(function(e){var t=e.classes,a=Object(G.a)(e,["classes"]),c=k().AuthState,o=Object(n.useState)(new Date),i=Object(E.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(new Date),m=Object(E.a)(u,2),d=m[0],p=m[1],f=Object(n.useRef)({}),b=Object(n.useRef)({}),h=Object(n.useRef)({});return r.a.createElement(A,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(F.n,{className:t.header,variant:"h6"},"Create Event"),r.a.createElement("form",{className:Q()(t.content,"create-event-modal-content__form"),onSubmit:function(e){e.preventDefault();var t=f.current.value.trim(),n=b.current.value.trim(),r=h.current.value.trim(),o=function(e,t){if(!e||!t)throw new Error("Date and time must be selected");var a=new Date;return a=Object(K.a)(a,Object(Y.a)(e)),a=Object(J.a)(a,Object(V.a)(t)),(a=Object(W.a)(a,Object(z.a)(t))).toISOString()}(l,d);if(!t||!n||!r||!o)throw new Error("All input must be selected");var i={query:'mutation {\n                createEvent(eventInput: {title: "'.concat(t,'", description: "').concat(n,'",\n                price: ').concat(parseFloat(r),', date: "').concat(o,'"}) {\n                    _id\n                    title\n                    description\n                    date\n                    price\n                }\n            }')};O()({url:U.getGraphqlUrl(),method:"POST",data:i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");if(e.data)return e.data.data}).then(function(e){console.log(e),a.fetchEvents(),a.closeModal()}).catch(function(e){console.log(e)})}},r.a.createElement(F.g,{className:"create-event-modal-content__title"},r.a.createElement(F.l,{id:"title",variant:"outlined",label:"Title",inputRef:f})),r.a.createElement(F.g,{className:"create-event-modal-content__description"},r.a.createElement(F.l,{id:"description",variant:"outlined",label:"description",inputRef:b})),r.a.createElement(F.g,{className:"create-event-modal-content__date"},r.a.createElement(M.c,{utils:q.a},r.a.createElement(M.a,{keyboard:!0,clearable:!0,variant:"outlined",label:"Date",onChange:s,value:l}))),r.a.createElement(F.g,{className:"create-event-modal-content__time"},r.a.createElement(M.c,{utils:q.a},r.a.createElement(M.b,{keyboard:!0,variant:"outlined",keyboardIcon:r.a.createElement(H.a,null),label:"Time",onChange:p,value:d}))),r.a.createElement(F.g,{className:"create-event-modal-content__price"},r.a.createElement(F.l,{id:"price",variant:"outlined",label:"price",inputRef:h})),r.a.createElement(F.f,{className:"create-event-modal-content__actions-divider"}),r.a.createElement("div",{className:Q()(t.actions,"create-event-modal-content__actions")},r.a.createElement(F.a,{variant:"text",color:"primary",onClick:a.closeModal,style:D.primaryButton},"Cancel"),r.a.createElement(F.a,{variant:"contained",color:"primary",type:"submit",style:D.primaryButton},"Create")))))})),$=Object(w.withStyles)(function(e){return{card:Object(L.a)({},D.card),cardContent:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",margin:"-1rem 0"},cardContentItem:{margin:"1rem 0",flex:"1 0 200px"},cardHeader:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cardDescription:{marginRight:"1rem"},cardActions:{width:"95%",display:"flex",justifyContent:"flex-end"}}})(function(e){var t=e.classes,a=Object(G.a)(e,["classes"]),c=!0,o=Object(n.useState)(0),i=Object(E.a)(o,2),l=i[0],s=i[1],d=Object(n.useState)("PRISTINE"),p=Object(E.a)(d,2),f=p[0],h=p[1];function v(){return(v=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,h("PRISTINE");case 3:if(!c){e.next=6;break}return e.next=6,h("NOT_IMPLEMENTED_YET");case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,h("PRISTINE");case 3:if(S){e.next=8;break}if(!c){e.next=7;break}return e.next=7,h("USER_NOT_LOGGED_IN");case 7:return e.abrupt("return");case 8:c&&s(10),t={query:'mutation {\n                bookEvent(eventId: "'.concat(N._id,'") {\n                  _id\n                  createdAt\n                  updatedAt\n                }\n              }')},O()({url:U.getGraphqlUrl(),method:"POST",data:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+_.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");if(e.data)return e.data.data}).then(function(e){c&&s(100)}).catch(function(e){console.log(e)}).finally(function(){c&&s(0)});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _=k().AuthState,N=a.event,S=Boolean(_.token),y=_.userId===N.creator._id;return Object(n.useEffect)(function(){return function(){c=!1}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"determinate",value:l,style:{opacity:l?1:0},className:t.card}),r.a.createElement(F.b,{className:t.card},r.a.createElement(F.e,{className:t.cardHeader,title:N.title,action:y&&r.a.createElement(F.h,{"aria-label":"Edit"},r.a.createElement(H.b,{fontSize:"small"}))}),r.a.createElement(F.d,{className:t.cardContent},r.a.createElement("span",{className:Q()(t.cardContentItem,t.cardDescription)},r.a.createElement(F.n,{variant:"body1",gutterBottom:!0},N.description),r.a.createElement(F.n,{variant:"caption",gutterBottom:!0},new Date(N.date).toLocaleString()),r.a.createElement(F.n,{variant:"h6"},N.price," USD ")),y&&r.a.createElement("span",{className:t.cardContentItem},r.a.createElement(F.n,{variant:"caption"},"You are the owner of this event"))),r.a.createElement(F.c,{className:t.cardActions},r.a.createElement(F.a,{variant:"text",onClick:function(){return v.apply(this,arguments)}},"Details"),!y&&r.a.createElement(F.a,{variant:"text",color:"primary",onClick:function(){return g.apply(this,arguments)},disabled:0<l&&l<100},"Book this"))),function(){switch(f){case"ERROR":return r.a.createElement(P,{message:"Error!: Check connection or call administrator"});case"NOT_IMPLEMENTED_YET":return r.a.createElement(P,{message:"Feature not implemented yet"});case"USER_NOT_LOGGED_IN":return r.a.createElement(P,{message:"You must log in to book this event"});default:return r.a.createElement("div",null)}}())}),ee=Object(w.withStyles)(function(e){return{card:Object(L.a)({padding:"3rem"},D.card)}})(function(e){var t=e.classes,a=k().EventsState,n=a.events.length>0?a.events.map(function(e){return r.a.createElement($,{event:e,key:e._id})}):r.a.createElement(F.b,{className:t.card},r.a.createElement(F.n,{variant:"h5"},"There are no events yet"));return r.a.createElement("section",null,n)}),te=a(88),ae=a.n(te),ne=a(87),re=a.n(ne),ce=Object(w.withStyles)(function(e){return{card:Object(L.a)({},D.card),fab:{position:"fixed",right:"5%",bottom:"2rem",margin:e.spacing.unit}}})(function(e){var t=e.classes,a=!0,c=k().EventsDispatch,o=Object(n.useState)(0),i=Object(E.a)(o,2),l=i[0],s=i[1];function u(){a&&s(10),c({type:"FETCH_EVENTS_PENDING"}),O()({url:U.getGraphqlUrl(),method:"POST",data:{query:"query {\n                events {\n                    _id\n                    title\n                    description\n                    date\n                    price\n                    creator{\n                        _id\n                        email\n                    }\n                }\n            }"},headers:{"Content-Type":"application/json"}}).then(function(e){if(200!==e.status&&201!==e.status&&c({type:"FETCH_EVENTS_REJECTED"}),e.data)return e.data.data}).then(function(e){c({type:"FETCH_EVENTS_FULFILLED",events:e.events}),a&&s(100)}).catch(function(e){c({type:"FETCH_EVENTS_REJECTED"})}).finally(function(){setTimeout(function(){a&&s(0)},300)})}Object(n.useEffect)(function(){return u(),function(){a=!1}},[]);var m=k().AuthState,d=Boolean(m.token),p=Object(n.useState)(!1),f=Object(E.a)(p,2),b=f[0],h=f[1];return r.a.createElement("div",{className:"events-page app-centered-page"},r.a.createElement(F.i,{variant:"determinate",value:l,style:{opacity:l?1:0}}),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:t.fab,color:"primary",type:"button",onClick:function(e){return h(!0)}},r.a.createElement(ae.a,null)),r.a.createElement(F.j,{open:b,onClose:function(e){return h(!1)}},r.a.createElement(Z,{closeModal:function(){h(!1)},fetchEvents:u}))),r.a.createElement(ee,null))}),oe=Object(w.withStyles)(function(e){return{card:Object(L.a)({},D.card),cardContent:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",margin:"-1rem 0"},cardContentItem:{margin:"1rem 0",flex:"1 0 200px"},cardHeader:{width:"90%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cardDescription:{marginRight:"1rem"},cardActions:{width:"95%",display:"flex",justifyContent:"flex-end"}}})(function(e){var t=e.classes,a=Object(G.a)(e,["classes"]),c=!0,o=Object(n.useState)(0),i=Object(E.a)(o,2),l=(i[0],i[1],Object(n.useState)("PRISTINE")),s=Object(E.a)(l,2),d=s[0],p=s[1],f=k(),b=f.AuthState,h=f.BookingsDispatch,v=a.booking,g=v.event,_=Boolean(b.token),N=b.userId===v.event.creator._id;function S(){return(S=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,p("PRISTINE");case 3:if(!c){e.next=6;break}return e.next=6,p("NOT_IMPLEMENTED_YET");case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){return function(){c=!1}},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.b,{className:t.card},r.a.createElement(F.e,{className:t.cardHeader,title:g.title,action:r.a.createElement(r.a.Fragment,null,N&&r.a.createElement(F.h,{"aria-label":"Edit"},r.a.createElement(H.b,{fontSize:"small"})),r.a.createElement(F.h,{"aria-label":"Delete",onClick:function(){if(_){var e={query:'mutation {\n                cancelBooking(bookingId: "'.concat(v._id,'") {\n                  _id\n                  title\n                }\n              }')};h({type:"CANCEL_BOOKINGS_PENDING"}),O()({url:U.getGraphqlUrl(),method:"POST",data:e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+b.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");if(e.data)return e.data.data}).then(function(e){h({type:"CANCEL_BOOKINGS_FULFILLED",bookingId:v._id}),console.log(e)}).catch(function(e){h({type:"CANCEL_BOOKINGS_REJECTED"}),console.log(e)})}else alert("you should log in to cancel an event")}},r.a.createElement(H.c,{fontSize:"small"})))}),r.a.createElement(F.d,{className:t.cardContent},r.a.createElement("span",{className:Q()(t.cardContentItem,t.cardDescription)},r.a.createElement(F.n,{variant:"body1",gutterBottom:!0},g.description),r.a.createElement(F.n,{variant:"caption",gutterBottom:!0},new Date(g.date).toLocaleString()),r.a.createElement(F.n,{variant:"h6"},g.price," USD ")),N&&r.a.createElement("span",{className:t.cardContentItem},r.a.createElement(F.n,{variant:"caption"},"You are the owner of this event"))),r.a.createElement(F.c,{className:t.cardActions},r.a.createElement(F.a,{onClick:function(){return S.apply(this,arguments)},variant:"text"},"Details"))),function(){switch(d){case"ERROR":return r.a.createElement(P,{message:"Error!: Check connection or call administrator"});case"NOT_IMPLEMENTED_YET":return r.a.createElement(P,{message:"Feature not implemented yet"});default:return r.a.createElement("div",null)}}())}),ie=Object(w.withStyles)(function(e){return{card:Object(L.a)({padding:"3rem"},D.card)}})(function(e){var t=e.classes,a=k().BookingsState,n=a.bookings.length?a.bookings.map(function(e){return r.a.createElement(oe,{booking:e,key:e._id})}):r.a.createElement(F.b,{className:t.card},r.a.createElement(F.n,{variant:"h5"},"You haven't booked any event yet"));return r.a.createElement("section",null,n)}),le=Object(w.withStyles)(function(e){return{card:Object(L.a)({},D.card)}})(function(e){e.classes;var t=!0,a=k(),c=a.BookingsDispatch,o=a.AuthState,i=Object(n.useState)(1),l=Object(E.a)(i,2),s=l[0],u=l[1];return Object(n.useEffect)(function(){return t&&u(10),c({type:"FETCH_BOOKINGS_PENDING"}),O()({url:U.getGraphqlUrl(),method:"POST",data:{query:"query {\n                bookings {\n                    _id\n                    createdAt\n                    event {\n                        _id\n                        title\n                        date\n                        price\n                        creator {\n                            _id\n                        }\n                    }\n                }\n            }"},headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.token}}).then(function(e){if(200!==e.status&&201!==e.status&&c({type:"FETCH_BOOKINGS_REJECTED"}),e.data)return e.data.data}).then(function(e){c({type:"FETCH_BOOKINGS_FULFILLED",bookings:e.bookings}),t&&u(100)}).catch(function(e){c({type:"FETCH_BOOKINGS_REJECTED"})}).finally(function(){setTimeout(function(){t&&u(0)},300)}),function(){t=!1}},[]),r.a.createElement("div",{className:"bookins-page .app-centered-page"},r.a.createElement(F.i,{variant:"determinate",value:s,style:{opacity:s?1:0}}),r.a.createElement(ie,null))}),se=(a(5622),function(){var e=k().UIDisptch;return r.a.createElement("button",{className:"drawer-toggle-button",onClick:function(){e({type:"UI_TOGGLE_SIDE_NAV"})}},r.a.createElement("div",{className:"drawer-toggle-button__line"}),r.a.createElement("div",{className:"drawer-toggle-button__line"}),r.a.createElement("div",{className:"drawer-toggle-button__line"}))}),ue=function(){var e=k().AuthState;return r.a.createElement("nav",null,r.a.createElement("ul",null,!e.token&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/auth"},"Log In")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/events"},"Events")),e.token&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/bookings"},"Bookings"))))},me=a(39),Ee=a.n(me),de=a(91),pe=a.n(de),fe=a(89),be=a.n(fe),he=a(69),Oe=a.n(he),ve=a(90),ge=a.n(ve),_e=(a(5628),Object(w.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}}})(function(e){e.classes;var t=k(),a=t.AuthState,c=t.AuthDispatch,o=Boolean(a.token),i=Object(n.useState)(),l=Object(E.a)(i,2),s=l[0],d=l[1],p=Boolean(s),f=Object(n.useState)("PRISTINE"),b=Object(E.a)(f,2),h=b[0],O=b[1];function v(){return(v=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("PRISTINE");case 2:return e.next=4,c({type:"AUTH_LOG_OUT"});case 4:return _(),e.next=7,O("LOGOUT_SUCCESFULL");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("PRISTINE");case 2:return _(),e.next=5,O("NOT_IMPLEMENTED_YET");case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){d(null)}var N=r.a.createElement(be.a,{anchorEl:s,open:p,onClose:_},r.a.createElement(Oe.a,{onClick:function(){return g.apply(this,arguments)}},"Profile"),r.a.createElement(Oe.a,{onClick:function(){return v.apply(this,arguments)}},"Logout"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:"main-navigation"},r.a.createElement(F.m,{className:"main-navigation__toolbar"},r.a.createElement("span",{className:"main-navigation__logo"},r.a.createElement("span",{className:"main-navigation__button"},r.a.createElement(se,null)),r.a.createElement("h1",null,"EasyEvent")),r.a.createElement("span",{className:"main-navigation__items"},r.a.createElement("span",{className:"main-navigation__links"},r.a.createElement(ue,null)),o&&r.a.createElement(Ee.a,{onClick:function(e){d(e.currentTarget)}},r.a.createElement(pe.a,{className:"account-circle"}))),N)),function(){switch(h){case"ERROR":return r.a.createElement(P,{message:"Error!: Check connection or call administrator"});case"NOT_IMPLEMENTED_YET":return r.a.createElement(P,{message:"Feature not implemented yet",duration:3e3});case"LOGOUT_SUCCESFULL":return r.a.createElement(P,{message:"You have succesfully logout",duration:3e3});default:return r.a.createElement("div",null)}}())})),Ne=(a(5633),a(5634),function(){var e=["side-drawer"];return k().UIState.isSideDrawOpen&&e.push("side-drawer__open"),r.a.createElement("span",{className:e.join(" ")},r.a.createElement(ue,null))}),Se=(a(5635),function(){var e=k().UIDisptch;return r.a.createElement("div",{className:"backdrop",onClick:function(){e({type:"UI_TOGGLE_SIDE_NAV"})}})});var ye=function(){var e,t=k(),a=t.UIState,n=t.AuthState,c=Boolean(n.token);return a.isSideDrawOpen&&(e=r.a.createElement(Se,null)),r.a.createElement("div",{className:"main-content"},r.a.createElement(i.a,null,r.a.createElement(_e,null),r.a.createElement(Ne,null),e,r.a.createElement("main",null,r.a.createElement(l.d,null,c&&r.a.createElement(l.a,{from:"/",to:"/events",exact:!0}),c&&r.a.createElement(l.a,{from:"/auth",to:"/events",exact:!0}),!c&&r.a.createElement(l.b,{path:"/auth",component:B}),c&&r.a.createElement(l.b,{path:"/bookings",component:le}),r.a.createElement(l.b,{path:"/events",component:ce}),!c&&r.a.createElement(l.a,{to:"/auth"})))))};o.a.render(r.a.createElement(w.MuiThemeProvider,{theme:x},r.a.createElement(function(e){var t=e.children,a=Object(n.useReducer)(g,v),c=Object(E.a)(a,2),o=c[0],i=c[1],l=Object(n.useReducer)(N,_),s=Object(E.a)(l,2),u=s[0],m=s[1],d=Object(n.useReducer)(I,y),p=Object(E.a)(d,2),f=p[0],b=p[1],h=Object(n.useReducer)(C,T),O=Object(E.a)(h,2),S={UIState:o,UIDisptch:i,AuthState:u,AuthDispatch:m,EventsState:f,EventsDispatch:b,BookingsState:O[0],BookingsDispatch:O[1]};return r.a.createElement(j.Provider,{value:S},t)},null,r.a.createElement(ye,null))),document.getElementById("root"))}},[[5448,1,2]]]);
//# sourceMappingURL=main.6a4a320c.chunk.js.map